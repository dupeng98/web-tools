<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>随机信息生成器 — 前端工具集</title>
    <style>
        :root{
            --ios-blue: #007AFF;
            --ios-blue-light: rgba(0,122,255,0.08);
            --ios-gray-1: #8E8E93;
            --ios-gray-4: #E5E5EA;
            --ios-gray-5: #F2F2F7;
            --ios-gray-6: #FFFFFF;
            --ios-green: #34C759;
            --shadow: 0 6px 20px rgba(0,0,0,0.06);
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans SC", sans-serif;
        }

        *{box-sizing:border-box;margin:0;padding:0;font-family:var(--font-family);} 
        body{background:var(--ios-gray-5);min-height:100vh;color:#000;display:flex;} 
        .sidebar{width:260px;background:var(--ios-gray-6);height:100vh;position:fixed;left:0;top:0;box-shadow:var(--shadow);display:flex;flex-direction:column;} 
        .sidebar-header{padding:24px;text-align:center;border-bottom:1px solid var(--ios-gray-4);background:linear-gradient(135deg,#f5f7fa 0%,#e4e8ed 100%);} 
        .sidebar-title{font-size:20px;font-weight:700;background:linear-gradient(135deg,#007AFF,#5856D6);-webkit-background-clip:text;-webkit-text-fill-color:transparent} 
        .sidebar-subtitle{font-size:13px;color:var(--ios-gray-1);margin-top:4px} 
        .main-content{flex:1;margin-left:260px;padding:32px} 
        .tool-panel{background:#fff;border-radius:14px;padding:24px;box-shadow:var(--shadow);max-width:920px} 
        .panel-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px} 
        .panel-title h1{font-size:20px} 
        .panel-subtitle{font-size:13px;color:var(--ios-gray-1)} 
        .action-row{display:flex;gap:12px;margin:18px 0;flex-wrap:wrap} 
        .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600} 
        .btn-primary{background:var(--ios-blue);color:#fff} 
        .btn-outline{background:transparent;border:1px solid var(--ios-gray-4;color:#000;padding:9px 12px;border-radius:10px} 
        .result-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px;margin-top:10px} 
        .result-card{background:var(--ios-gray-5);padding:14px;border-radius:12px;display:flex;flex-direction:column;gap:8px} 
        .result-label{font-size:13px;color:var(--ios-gray-1);display:flex;justify-content:space-between;align-items:center} 
        .result-value{background:var(--ios-gray-6);padding:10px;border-radius:8px;font-family:Menlo,Monaco,monospace;word-break:break-all;border-left:4px solid var(--ios-blue);min-height:42px;display:flex;align-items:center;justify-content:space-between} 
        .small-btn{padding:6px 10px;border-radius:8px;border:none;background:var(--ios-blue);color:#fff;cursor:pointer;font-weight:600} 
        .copy-notification{position:fixed;top:20px;right:20px;background:var(--ios-green);color:#fff;padding:10px 16px;border-radius:8px;box-shadow:0 6px 16px rgba(0,0,0,0.12);opacity:0;transform:translateY(-10px);transition:all .28s ease} 
        .copy-notification.show{opacity:1;transform:translateY(0)} 
        footer{margin-top:22px;color:var(--ios-gray-1);font-size:13px;text-align:center} 
        @media (max-width:768px){
            .sidebar{transform:translateX(-100%);position:fixed;z-index:1000}
            .main-content{margin-left:0;padding:16px}
        }
    </style>
</head>
<body>
    <aside class="sidebar" aria-hidden="true">
        <div class="sidebar-header">
            <div class="sidebar-title">前端工具集</div>
            <div class="sidebar-subtitle">随机信息生成器</div>
        </div>
    </aside>

    <main class="main-content">
        <div class="tool-panel" role="region" aria-label="随机信息生成器">
            <div class="panel-title">
                <div>
                    <h1>随机信息生成器</h1>
                    <div class="panel-subtitle">点击“生成”即可一次获得：随机中文名 / 手机号 / 身份证号（合规校验位）</div>
                </div>
            </div>

            <div class="action-row">
                <button id="generateBtn" class="btn btn-primary">生成</button>
                <button id="generateMaleBtn" class="btn" style="background:#f4f6f8;">生成（男）</button>
                <button id="generateFemaleBtn" class="btn" style="background:#f4f6f8;">生成（女）</button>
                <button id="regenerateBtn" class="btn" style="background:transparent;border:1px solid var(--ios-gray-4;">清空并重新生成</button>
            </div>

            <div class="result-grid">
                <div class="result-card">
                    <div class="result-label">
                        <span>中文名</span>
                        <button class="small-btn" data-copy-target="nameValue">复制</button>
                    </div>
                    <div id="nameValue" class="result-value">-</div>
                </div>

                <div class="result-card">
                    <div class="result-label">
                        <span>手机号码</span>
                        <button class="small-btn" data-copy-target="phoneValue">复制</button>
                    </div>
                    <div id="phoneValue" class="result-value">-</div>
                </div>

                <div class="result-card">
                    <div class="result-label">
                        <span>身份证号（18位）</span>
                        <button class="small-btn" data-copy-target="idValue">复制</button>
                    </div>
                    <div id="idValue" class="result-value">-</div>
                </div>
            </div>

            <footer>
                <small>注：身份证号采用常见地区码示例并计算校验位，仅用于测试/演示，请勿用于真实身份冒用。</small>
            </footer>
        </div>
    </main>

    <div id="copyNotification" class="copy-notification" aria-live="polite">已复制到剪贴板</div>

    <script>
        // 通用：复制与提示
        function showCopyNotification(text){
            const el = document.getElementById('copyNotification');
            el.textContent = text || '已复制到剪贴板';
            el.classList.add('show');
            setTimeout(()=>el.classList.remove('show'),1800);
        }

        function copyToClipboard(text){
            if(!text) return;
            if(navigator.clipboard && window.isSecureContext){
                navigator.clipboard.writeText(text).then(()=>showCopyNotification()).catch(()=>fallbackCopy(text));
            } else {
                fallbackCopy(text);
            }
        }
        function fallbackCopy(text){
            const ta = document.createElement('textarea');
            ta.value = text;
            ta.style.position = 'fixed';
            ta.style.left = '-9999px';
            document.body.appendChild(ta);
            ta.select();
            try{
                document.execCommand('copy');
                showCopyNotification();
            }catch(e){
                console.error('复制失败', e);
                alert('复制失败，请手动复制');
            }
            document.body.removeChild(ta);
        }

        // 生成器：中文名
        const surnames = "赵钱孙李周吴郑王冯陈褚卫蒋沈韩杨朱秦尤许何吕施张孔曹严华金魏陶姜".split('');
        const nameChars = "嘉浩明华伟俊婷娟静敏磊洋勇军斌峰玲梅雪丽芳".split('');

        function randomChineseName(gender){ // gender: 'male'|'female'|undefined
            const surname = surnames[Math.floor(Math.random()*surnames.length)];
            const givenLen = Math.random() < 0.6 ? 1 : 2; // 1 or 2 chars
            let given = '';
            for(let i=0;i<givenLen;i++){
                // try to bias male/female characters slightly by list membership (simple heuristic)
                const pool = nameChars;
                given += pool[Math.floor(Math.random()*pool.length)];
            }
            return surname + given;
        }

        // 手机号生成（常见号段）
        const phonePrefixes = [
            '130','131','132','133','134','135','136','137','138','139',
            '150','151','152','153','155','156','157','158','159',
            '166','170','171','172','173','174','175','176','177','178','179',
            '180','181','182','183','184','185','186','187','188','189',
            '198','199'
        ];
        function randomPhone(){
            const p = phonePrefixes[Math.floor(Math.random()*phonePrefixes.length)];
            let rest = '';
            for(let i=0;i<8;i++) rest += Math.floor(Math.random()*10);
            return p + rest;
        }

        // 身份证号生成（18位，含校验位）
        // 使用部分常见地区码作为示例
        const addressCodes = [
            '110000','110100','120000','310000','440100','440300','330100','320100','420100','510100'
        ];

        // 计算校验位： ISO 7064:1983, MOD 11-2
        function calcIDChecksum17(id17){
            // id17: string of 17 digits
            const weights = [7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2];
            const checkMap = ['1','0','X','9','8','7','6','5','4','3','2'];
            let sum = 0;
            for(let i=0;i<17;i++){
                sum += parseInt(id17.charAt(i),10) * weights[i];
            }
            const mod = sum % 11;
            return checkMap[mod];
        }

        function randomBirthdate(minYear=1950, maxYear=new Date().getFullYear()){
            const year = getRandomInt(minYear, maxYear);
            const month = getRandomInt(1,12);
            const day = getRandomInt(1, daysInMonth(year, month));
            return {year, month, day};
        }

        function daysInMonth(y,m){
            return new Date(y, m, 0).getDate();
        }

        function pad(num, len=2){
            return num.toString().padStart(len,'0');
        }

        function getRandomInt(min, max){
            return Math.floor(Math.random()*(max - min + 1)) + min;
        }

        function randomIdCard(gender){ // gender: 'male'|'female'|undefined
            const addr = addressCodes[Math.floor(Math.random()*addressCodes.length)];
            // birth between 1950 and 2005 by default for plausible ages; allow recent years too
            const birth = randomBirthdate(1950, 2005);
            const birthStr = String(birth.year) + pad(birth.month) + pad(birth.day);
            // sequence code: 3 digits, last digit odd->male, even->female
            let seq;
            if(gender === 'male') {
                // choose odd
                let n = getRandomInt(0, 999);
                if(n % 2 === 0) n = (n + 1) % 1000;
                seq = pad(n,3);
            } else if(gender === 'female'){
                let n = getRandomInt(0, 999);
                if(n % 2 === 1) n = (n + 1) % 1000;
                seq = pad(n,3);
            } else {
                seq = pad(getRandomInt(0,999),3);
            }
            const id17 = addr + birthStr + seq;
            const checksum = calcIDChecksum17(id17);
            return id17 + checksum;
        }

        // DOM wiring
        const nameEl = document.getElementById('nameValue');
        const phoneEl = document.getElementById('phoneValue');
        const idEl = document.getElementById('idValue');
        const generateBtn = document.getElementById('generateBtn');
        const generateMaleBtn = document.getElementById('generateMaleBtn');
        const generateFemaleBtn = document.getElementById('generateFemaleBtn');
        const regenerateBtn = document.getElementById('regenerateBtn');

        function generateAll(gender){
            const name = randomChineseName(gender);
            const phone = randomPhone();
            const id = randomIdCard(gender);
            nameEl.textContent = name;
            phoneEl.textContent = phone;
            idEl.textContent = id;
        }

        generateBtn.addEventListener('click', ()=>generateAll());
        generateMaleBtn.addEventListener('click', ()=>generateAll('male'));
        generateFemaleBtn.addEventListener('click', ()=>generateAll('female'));
        regenerateBtn.addEventListener('click', ()=>{
            nameEl.textContent = '-';
            phoneEl.textContent = '-';
            idEl.textContent = '-';
            // then generate again
            setTimeout(()=>generateAll(), 120);
        });

        // copy buttons
        document.querySelectorAll('[data-copy-target]').forEach(btn=>{
            btn.addEventListener('click', function(){
                const targetId = this.getAttribute('data-copy-target');
                const el = document.getElementById(targetId);
                const text = el.textContent;
                if(text && text !== '-'){ 
                    copyToClipboard(text);
                } else {
                    showCopyNotification('暂无可复制内容');
                }
            });
        });

        // 初始化：不自动生成，等待用户点击（按需可改）
        // generateAll();

    </script>
</body>
</html>
